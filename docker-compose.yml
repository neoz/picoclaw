services:
  picoclaw:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: picoclaw
    restart: unless-stopped
    ports:
      - "18790:18790"
    volumes:
      - ./config.json:/home/picoclaw/.picoclaw/config.json
      - picoclaw-workspace:/home/picoclaw/.picoclaw/workspace
    environment:
      - TZ=Asia/Ho_Chi_Minh
      # Override config via env vars (optional):
      # - PICOCLAW_AGENTS_DEFAULTS_MODEL=glm-4.7
      # - PICOCLAW_PROVIDERS_OPENROUTER_API_KEY=sk-or-v1-xxx
      # - PICOCLAW_CHANNELS_TELEGRAM_ENABLED=true
      # - PICOCLAW_CHANNELS_TELEGRAM_TOKEN=your-token
      # - PICOCLAW_CHANNELS_DISCORD_ENABLED=true
      # - PICOCLAW_CHANNELS_DISCORD_TOKEN=your-token

volumes:
  picoclaw-workspace:
